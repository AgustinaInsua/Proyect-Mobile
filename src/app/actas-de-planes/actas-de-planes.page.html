<ion-app>
  <app-header title="Actas de planes" icon="albums"></app-header>
  <app-menu></app-menu>
  <ion-content>
    <app-title title="Actas de planes de pago" icon="documents"></app-title>
    <p-menubar [model]="items"></p-menubar>
    <p-card>
      <div class="container">
        <p-accordion [multiple]="true">
          <p-accordionTab header="Datos de la empresa">

            <div *ngFor="let companies of companies">
            <div class="conteiner-data-1">

            <tr><th>Acta</th> 
               <th>Estado</th> 
               <th>Fecha Apertura</th> 
               <th>Fiscalizador</th>
               <th>Empresa</th> 
               <th>Alta AFIP</th>
               <th>Aprobador Fec.Int</th> 
               <th>Aprobador Fec.Acr</th></tr> 

               <tr><td>{{companies.acta}}</td>
                <td>{{companies.estado}}</td>
                <td>{{companies.fechaApertura}}</td>
                <td>{{companies.fiscalizador}}</td>
                <td>{{companies.cuit}}</td>
                <td>{{companies.altaAfip}}</td>
                <td>{{companies.aprobadorFecIntereses}}</td>
                <td>{{companies.aprobadorFecAcreditacion}}</td></tr> 
              </div>
            </div>
       

          </p-accordionTab>
          <p-accordionTab header="Datos de contacto">
            <div *ngFor="let companies of companies">
              <div class="conteiner-data-3">

                <tr><th>Nombre</th>
                  <th>Apellido</th>
                  <th>Mail</th>
                  <th>Telefono</th></tr>

               <tr><td>{{companies.contactName}}</td>
                <td>{{companies.contactLastName}}</td>
                <td> {{companies.email}}</td>
                <td>{{companies.contactNumber}}</td></tr> 

                </div>
            </div>           
          </p-accordionTab>
        </p-accordion>
      </div>

      <div class="mainTable">
        <p-table
          id="tableCompanies"
          #dtCompanies
          [value]="companies"
          [tableStyle]="{ 'min-width': '50rem' }"
          [paginator]="true"
          [rows]="3"
          [rowsPerPageOptions]="[1, 2, 3]"
          [globalFilterFields]="['id', 'razonSocial', 'cuit', 'email', 'contactName', 'contactNumber']"
          (onFilter)="onFilter($event, dtCompanies)"
          selectionMode="single"
          autocomplete="off"
        >
          <ng-template pTemplate="caption">
            <h2>Plan de pagos</h2>
          </ng-template>
          <ng-template pTemplate="header">
            <tr>
              <th
                *ngFor="let column of fieldsTableCompany"
                pSortableColumn="{{column.field}}"
              >
                {{column.title}}
                <p-sortIcon field="{{column.field}}"></p-sortIcon>
                <p-columnFilter
                  type={{column.type}}
                  field={{column.field}}
                  display="menu"
                ></p-columnFilter>
              </th>
            </tr>
          </ng-template>
          <ng-template pTemplate="body" let-company let-i="rowIndex">
            <tr>
              <td>{{ company.id }}</td>
              <td>{{ company.razonSocial }}</td>
              <td>{{ company.cuit }}</td>
              <td>{{ company.email }}</td>
              <td>{{ company.contactName }}</td>
              <td>{{ company.contactNumber }}</td>
            </tr>
          </ng-template>
        </p-table>
      </div>
    </p-card>
  </ion-content>
</ion-app>
